log_errors=1
; Em produção, preferir não exibir erros
display_errors=0
post_max_size=800M
upload_max_filesize=800M
display_startup_errors=1
error_log=/var/log/php/errors.log
; Máximo de execução (0 = ilimitado). Manter 300, mas ideal mover jobs pesados para queue.
max_execution_time = 300
max_input_time = 300
memory_limit = 4096M

; Increase socket timeout (e.g., FTP/HTTP) to avoid interruptions on long operations
default_socket_timeout = 300

; --- OPcache tuning ---
opcache.enable=1
opcache.enable_cli=0
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=20000
opcache.validate_timestamps=1
; Reduz revalidação para aliviar I/O sob alto volume; em dev pode usar 2
opcache.revalidate_freq=5
opcache.fast_shutdown=1
; Desabilitar JIT em ambientes que apresentam alto uso de CPU sem ganho perceptível
opcache.jit=0
opcache.jit_buffer_size=0

; --- Realpath cache ---
realpath_cache_size=4096k
realpath_cache_ttl=600



